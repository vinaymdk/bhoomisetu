- **Buyer**: buyer1@example.com / +919876543210
- **Seller**: seller1@example.com / +919876543211
- **Agent**: agent1@example.com / +919876543212
- **Multi-role**: multiuser@example.com / +919876543213
- **CS**: cs1@example.com / +919876543214
- **Admin**: admin@example.com / +919876543215
=================================================
Login with "**Buyer**: buyer1@example.com / +919876543210"

Mobile: 
- After User login Home/Landing page continues-loading
- AI Extacted Filters are cance(X) option

- Proceed with Module 4 (UI and UX) for both mobile and web 
- Don't wait for my confirmation just doit with following manner
- Plan -> Status/Next-Steps -> Implementation -> Review -> Testing


No properties displaying
Error: 
- while input-search-field 'house' -> search -> "type 'Null' is not a subtype of type 'int' in type cast"
 
- "BOTTOM OVERFLOWED BY 68 PIXELS" Issue is inside BottomSheet Flexible / Expanded misuse fix.

- Create ***.sh files for db/migrations


"Implementation is complete and ready for testing. All components follow the existing codebase patterns and integrate with the backend API." YES PLEASE Cotinue with bellow requrements as well after complete testing

You are a senior full-stack architect and authentication expert.

### Current Issues (High Priority)
1. **Authentication error after login**
   - User is successfully logged in.
   - On browser refresh / hard refresh, the application redirects back to the login page.
   - Session / token persistence is not working as expected.

2. **Access control issue**
   - Once a user is logged in, the login page should NOT be accessible.
   - Only after explicit logout, the login page should be accessible again.
   - Proper route guards / middleware must be enforced for both authenticated and unauthenticated routes.

---

### Requirements
1. **Fix Authentication Flow**
   - Implement correct session handling (JWT / refresh token / cookies / local storage as applicable).
   - Ensure authentication state is restored on page refresh.
   - Prevent unauthorized redirects.
   - Handle token expiration and refresh correctly.
   - Mobile pull-to-refresh (drag down) functionality.


2. **Route Protection**
   - Block authenticated users from accessing login/register pages.
   - Block unauthenticated users from accessing protected routes.
   - Follow best practices for frontend and backend authorization.

3. **Roadmap & Progress Tracking**
   - Maintain and update a clear **development roadmap**.
   - After each development or implementation step:
     - Update what is completed
     - What is pending
     - What is next
   - Roadmap should be module-wise and easy to track.

4. **Database & Testing Support**
   - For each module, prepare **required sample / dummy / reference data**.
   - Provide these data inserts as **module-wise `.sql` files**.
   - The SQL should be realistic enough to test real-time application behavior.
   - I will manually update the database using these SQL files to validate functionality.

---

### Expectations
- Follow clean architecture and production-ready practices.
- Explain authentication fixes clearly (frontend + backend).
- Ensure scalability and security best practices.
- Keep communication concise, technical, and professional.

Implement standard mobile UX features:
- Pull-to-refresh
- Loading, empty, and error states
- Offline handling with retry
- Session persistence and route protection
- Pagination / infinite scroll
Ensure features follow production-level mobile UX practices.

Act like you are building this system for a real production environment.



# =====================================
Reference smart prompting
# =====================================
- Proceed with Module 3 (UI and UX) for both mobile and web 
- Don't wait for my confirmation just doit with following manner
- Plan -> Status/Next-Steps -> Implementation -> Review -> Testing

Note:
- Update Roadmap for every development / implementaion

**Database & Testing Support**
   - For each module, prepare **required sample / dummy / reference data**.
   - Provide these data inserts as **module-wise `.sql` files**.
   - The SQL should be realistic enough to test real-time application behavior.
   - I will manually update the database using these SQL files to validate functionality.

Implement standard mobile UX features:
- Pull-to-refresh
- Loading, empty, and error states
- Offline handling with retry
- Session persistence and route protection
- Pagination / infinite scroll
Ensure features follow production-level mobile UX practices.

# =====================================